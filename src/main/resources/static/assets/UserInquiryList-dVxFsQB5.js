import{a as c}from"./axios-ywBQ3a9P.js";import{_ as f,r as q,i as S,o as w,a,b as t,F as p,f as I,$ as b,h as l,e as k,w as v,k as C,t as i,C as M,B as $,g as x}from"./index-BBnxBt67.js";const D={class:"inquiries-table"},B={class:"right-padding"},E={class:"answer-text"},N=["onClick"],F={__name:"UserInquiryList",setup(L){const n=q([]),u=S(),y=async()=>{console.log(">>>>>>>>>>>>>>>>",u.user.userId);try{const o=await c.get(`/api/mypage/inquiry/user/${u.user.userId}`);n.value=o.data.data,console.log(o.data.data)}catch(o){console.error("Error loading inquiries:",o)}},m=o=>{const e=new Date(o),s=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${s}.${r}.${d}`},g=o=>{M().showModal("문의 삭제","정말로 문의를 삭제하시겠습니까?","삭제된 문의는 복구할 수 없습니다.","삭제하기",()=>_(o))},_=async o=>{try{await c.delete(`/api/mypage/inquiry/${o}`),n.value=n.value.filter(s=>s.inquiryId!==o),$().showModal("문의 삭제","문의 삭제가 완료되었습니다.")}catch(e){console.error("Error deleting inquiry:",e)}},h=()=>{b.push("/mypage/inquiry/create")};return w(()=>{y()}),(o,e)=>{const s=x("router-link");return l(),a(p,null,[t("section",{class:"section-inquiries"},[e[1]||(e[1]=t("div",null,[t("p",{id:"section-title"},"1:1 문의내역")],-1)),t("div",{class:"space-between"},[e[0]||(e[0]=t("p",{style:{"font-size":"13px"}},"한번 등록한 상담내용은 수정이 불가능합니다.",-1)),t("button",{class:"inquiry-btn",onClick:h},"+ 문의하기")])]),t("table",D,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"문의 제목"),t("th",null,"작성일"),t("th",null,"답변여부"),t("th")])],-1)),t("tbody",null,[(l(!0),a(p,null,I(n.value,r=>(l(),a("tr",{key:r.inquiryId},[t("td",B,[k(s,{to:`/mypage/inquiry/${r.inquiryId}`},{default:v(()=>[C(i(r.inquiryTitle),1)]),_:2},1032,["to"])]),t("td",null,i(m(r.inquiryCreatedAt)),1),t("td",E,i(r.answerState==="Y"?"YES":"NO"),1),t("td",null,[t("button",{onClick:d=>g(r.inquiryId),class:"delete-btn"}," 삭제 ",8,N)])]))),128))])])],64)}}},A=f(F,[["__scopeId","data-v-63992ddb"]]);export{A as default};
