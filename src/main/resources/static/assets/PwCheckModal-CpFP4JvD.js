import{_ as w,r as l,b as n,d as e,v as y,x as b,t as g,m as k,s as _,i,u as P,a as h}from"./index-D7EuPnGH.js";import{_ as x}from"./close-button-yhCBxJER.js";const M={class:"pw-check-section"},C={key:0,class:"error-message"},I={__name:"PwCheckModal",props:{userId:{type:Number,required:!0}},emits:["close"],setup(c,{emit:u}){const a=u,d=c,t=l(""),r=l(""),p=P(),m=async()=>{if(console.log("verifyPassword 함수가 호출되었습니다."),r.value="",!t.value.trim()){r.value="비밀번호를 입력해주세요.";return}try{const o=await h.post("http://localhost:8081/api/v1/mypage/verifyPassword",{currentPassword:t.value},{params:{id:d.userId}});o.data.success?(a("close"),p.push("/mypage/updateInfo")):(r.value=o.data.message,alert("비밀번호가 틀렸습니다. 다시 입력해주세요."))}catch(o){console.error("에러 발생:",o),r.value="비밀번호 확인 중 오류가 발생했습니다."}},v=()=>{a("close")};return(o,s)=>(i(),n("div",M,[e("div",{class:"section-header"},[s[1]||(s[1]=e("h2",null,"비밀번호 재입력",-1)),e("img",{src:x,onClick:v,class:"close-button"})]),e("form",{onSubmit:_(m,["prevent"]),class:"password-check-form"},[s[2]||(s[2]=e("span",{class:"section-subtitle"}," 정보 보호를 위해 비밀번호를 입력해주세요 ",-1)),s[3]||(s[3]=e("label",{for:"current-password",class:"current-password"},"비밀번호",-1)),y(e("input",{id:"current-password","onUpdate:modelValue":s[0]||(s[0]=f=>t.value=f),placeholder:"비밀번호를 입력하세요",required:"",type:"password"},null,512),[[b,t.value]]),s[4]||(s[4]=e("button",{type:"submit",class:"confirm-password"},"확인하기",-1)),r.value?(i(),n("div",C,g(r.value),1)):k("",!0)],32)]))}},S=w(I,[["__scopeId","data-v-2ad012fa"]]);export{S as default};
