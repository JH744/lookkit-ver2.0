import{_ as L,r as m,c as _,o as N,b as d,d as a,f as p,w as f,e as C,l as u,F as v,g,A as y,v as S,a as x,h as O,i,t as o,x as A,I as V,u as $,C as R}from"./index-C-LKCj6Z.js";const T={class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},U={id:"layoutSidenav"},B={id:"layoutSidenav_nav"},E={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"},j={class:"sb-sidenav-menu"},F={class:"nav"},z={id:"layoutSidenav_content"},G={id:"layoutSidenav_content"},K={class:"container-fluid px-4"},W={class:"breadcrumb mb-4"},Y={class:"breadcrumb-item"},q={class:"card mb-4"},H={class:"card-body"},J={class:"table table-striped"},Q=["onUpdate:modelValue"],X=["value"],Z=["onClick"],aa={class:"d-flex justify-content-center mt-3"},ta={class:"pagination"},sa=["onClick"],ea="/logout",h=10,la={__name:"OrderStatus",setup(na){$();const k=m([]),D=[{value:"pending",label:"대기"},{value:"shipped",label:"배송 중"},{value:"delivered",label:"배송 완료"},{value:"completed",label:"구매 확정"}],l=m(1),w=m(0),b=_(()=>Math.ceil(w.value/h)),I=_(()=>{const s=(l.value-1)*h,t=s+h;return k.value.slice(s,t)}),c=s=>{s>=1&&s<=b.value&&(l.value=s)},M=async()=>{try{const{data:s}=await x.get("/api/admin/orderStatus");k.value=s,w.value=s.length}catch(s){console.error("주문목록 가져오는 중 오류 발생:",s)}},P=async s=>{console.log("orderStatus to be sent:",s.orderStatus);try{const t=await x.put(`/api/admin/orders/${s.orderId}/status`,{orderStatus:s.orderStatus});console.log("res",t.data),t.status===200&&R().showModal("주문현황","주문상태 변경완료했습니다.")}catch(t){console.error("주문상태 업데이트 중 오류 발생:",t)}};return N(()=>{M()}),(s,t)=>{const r=O("RouterLink");return i(),d(v,null,[a("nav",T,[p(r,{class:"navbar-brand ps-3",to:"/admin/dashboard"},{default:f(()=>t[3]||(t[3]=[u("ADMIN PAGE")])),_:1}),a("button",{class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",type:"button",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},t[4]||(t[4]=[a("i",{class:"fas fa-bars"},null,-1)])),t[9]||(t[9]=C('<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0" data-v-b11a734a><div class="input-group" data-v-b11a734a><input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" data-v-b11a734a><button class="btn btn-primary" id="btnNavbarSearch" type="button" data-v-b11a734a><i class="fas fa-search" data-v-b11a734a></i></button></div></form>',1)),a("ul",{class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4"},[a("li",{class:"nav-item dropdown"},[t[8]||(t[8]=a("a",{class:"nav-link dropdown-toggle",id:"navbarDropdown",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[a("i",{class:"fas fa-user fa-fw"})],-1)),a("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},[t[5]||(t[5]=a("li",null,[a("a",{class:"dropdown-item",href:"#!"},"Settings")],-1)),t[6]||(t[6]=a("li",null,[a("a",{class:"dropdown-item",href:"#!"},"Activity Log")],-1)),t[7]||(t[7]=a("li",null,[a("hr",{class:"dropdown-divider"})],-1)),a("li",null,[a("a",{class:"dropdown-item",href:ea},"Logout")])])])])]),a("div",U,[a("div",B,[a("nav",E,[a("div",j,[a("div",F,[t[11]||(t[11]=a("div",{class:"sb-sidenav-menu-heading"},"Menu",-1)),p(r,{class:"nav-link",to:"/admin/dashboard"},{default:f(()=>t[10]||(t[10]=[a("div",{class:"sb-nav-link-icon"},[a("i",{class:"fas fa-tachometer-alt"})],-1),u(" 대쉬보드 ")])),_:1})])])])]),a("div",z,[a("div",G,[a("main",null,[a("div",K,[t[16]||(t[16]=a("h1",{class:"mt-4"},"주문현황",-1)),a("ol",W,[a("li",Y,[p(r,{to:"/admin/dashboard"},{default:f(()=>t[12]||(t[12]=[u("Dashboard")])),_:1})]),t[13]||(t[13]=a("li",{class:"breadcrumb-item active"},"Order Status",-1))]),t[17]||(t[17]=a("div",{class:"card mb-4"},null,-1)),a("div",q,[t[15]||(t[15]=a("div",{class:"card-header"},[a("i",{class:"fas fa-table me-1"}),u(" DataTable Example ")],-1)),a("div",H,[a("table",J,[t[14]||(t[14]=a("thead",null,[a("tr",null,[a("th",null,"주문번호"),a("th",null,"주문자ID"),a("th",null,"주문총액"),a("th",null,"주문상태"),a("th",null,"주문날짜"),a("th",null,"주문요청사항"),a("th",null,"작업")])],-1)),a("tbody",null,[(i(!0),d(v,null,g(I.value,e=>(i(),d("tr",{key:e.orderId},[a("td",null,o(e.orderId),1),a("td",null,o(e.userUuid),1),a("td",null,o(e.totalAmount),1),a("td",null,[A(a("select",{"onUpdate:modelValue":n=>e.orderStatus=n},[(i(),d(v,null,g(D,n=>a("option",{key:n.value,value:n.value},o(n.label),9,X)),64))],8,Q),[[V,e.orderStatus]])]),a("td",null,o(new Date(e.orderDate).toLocaleDateString("ko-KR")),1),a("td",null,o(e.orderComment),1),a("td",null,[a("button",{type:"button",class:"btn btn-primary",onClick:n=>P(e)}," 변경 ",8,Z)])]))),128))])]),a("div",aa,[a("nav",null,[a("ul",ta,[a("li",{class:y(["page-item",{disabled:l.value===1}])},[a("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=S(e=>c(l.value-1),["prevent"]))},"이전")],2),(i(!0),d(v,null,g(b.value,e=>(i(),d("li",{key:e,class:y(["page-item",{active:e===l.value}])},[a("a",{class:"page-link",href:"#",onClick:S(n=>c(e),["prevent"])},o(e),9,sa)],2))),128)),a("li",{class:y(["page-item",{disabled:l.value===b.value}])},[a("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=S(e=>c(l.value+1),["prevent"]))},"다음")],2)])])])])])])]),t[18]||(t[18]=C('<footer class="py-4 bg-light mt-auto" data-v-b11a734a><div class="container-fluid px-4" data-v-b11a734a><div class="d-flex align-items-center justify-content-between small" data-v-b11a734a><div class="text-muted" data-v-b11a734a>Copyright © Your Website 2023</div><div data-v-b11a734a><a href="#" data-v-b11a734a>Privacy Policy</a> · <a href="#" data-v-b11a734a>Terms &amp; Conditions</a></div></div></div></footer>',1))])])])],64)}}},da=L(la,[["__scopeId","data-v-b11a734a"]]);export{da as default};
