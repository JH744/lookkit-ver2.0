import{_ as f,r as y,o as w,b as o,d as t,t as l,m as _,F as g,g as k,f as S,w as b,u as I,a as C,h as D,i as u,l as $}from"./index-D656lRRA.js";import{r as x,f as R,g as N}from"./firebaseConfig-Cr89vwH1.js";const V="/images/question.png",j="/images/answer.png",B={class:"inquiry"},F={class:"inquiry-meta"},L={class:"inquiry-subject"},M={class:"inquiry-date"},P={key:0,class:"answer-state"},T={class:"inquiry-content"},U={class:"inquiry-text"},A={key:0},E=["src"],H={key:0,class:"reply"},O={class:"inquiry-meta"},Y={class:"inquiry-date"},z={class:"reply-content"},G={class:"reply-text"},J={class:"inquiry-btn-block"},K={__name:"InquiryDetail",setup(Q){const q=I().currentRoute.value,n=y({}),i=y({}),d=y([]),v=async()=>{try{const r=q.params.inquiryId,e=await C.get(`/api/mypage/inquiry/${r}`);if(n.value=e.data.data,n.value.inquiryImages&&n.value.inquiryImages.length>0){const c=await Promise.all(n.value.inquiryImages.map(async s=>{try{const a=x(R,s.imagePath);return await N(a)}catch(a){return console.error(`이미지 URL을 가져오는 중 오류 발생: ${s.imagePath}`,a),null}}));d.value=c.filter(s=>s!==null)}}catch(r){console.log(r)}};w(()=>{v()});const m=r=>{const e=new Date(r),c=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),p=String(e.getHours()).padStart(2,"0"),h=String(e.getMinutes()).padStart(2,"0");return`${c}.${s}.${a} ${p}:${h}`};return(r,e)=>{const c=D("router-link");return u(),o(g,null,[e[4]||(e[4]=t("section",{class:"section-inquiries"},[t("p",{id:"section-title"},"1:1 문의하기")],-1)),t("div",B,[t("div",F,[e[0]||(e[0]=t("img",{src:V,alt:""},null,-1)),t("div",null,[t("p",L,l(n.value.inquiryTitle),1),t("span",M,l(m(n.value.inquiryCreatedAt)),1)]),i.value&&i.value.answerContents?(u(),o("span",P,l(i.value?"✔ 답변 완료":""),1)):_("",!0)]),t("div",T,[t("p",U,l(n.value.inquiryContents),1),d.value.length?(u(),o("div",A,[(u(!0),o(g,null,k(d.value,(s,a)=>(u(),o("div",{key:a,class:"inquiry-image-container"},[t("img",{class:"inquiry-image",src:s,alt:""},null,8,E)]))),128))])):_("",!0)])]),Object.keys(i.value).length>0?(u(),o("div",H,[t("div",O,[e[2]||(e[2]=t("img",{class:"meta-icon question",src:j,alt:""},null,-1)),t("div",null,[e[1]||(e[1]=t("p",{class:"inquiry-subject"},"루킷 담당자",-1)),t("span",Y,l(m(i.value.answerCreatedAt)),1)])]),t("div",z,[t("p",G,l(i.value.answerContents),1)])])):_("",!0),t("div",J,[S(c,{class:"back-to-inquiry",to:"/mypage/inquiry"},{default:b(()=>e[3]||(e[3]=[$("문의 페이지로")])),_:1})])],64)}}},tt=f(K,[["__scopeId","data-v-ae25b212"]]);export{tt as default};
