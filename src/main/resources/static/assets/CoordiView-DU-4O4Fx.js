import{_ as f,i as v,u as B,r as d,c as P,o as I,h as u,a as m,b as o,t as g,n as p,l as S,p as _,F as q,f as L,q as R,m as U}from"./index-BBnxBt67.js";import{a as V}from"./axios-ywBQ3a9P.js";import{h as $,a as b}from"./heart2-Da8ksjVI.js";import{d as E}from"./img_none-DejiioVZ.js";const T={class:"codi-item"},D=["src","alt"],F={class:"codi-info"},W={class:"codi-name"},A={class:"codi-price"},K=["src"],M={__name:"Coordi",props:{codiId:{type:Number,required:!0},codiName:{type:String,required:!0},codiPrice:{type:Number,required:!0},codiThumbnail:{type:String,required:!0},imageBaseUrl:{type:String,default:"https://firebasestorage.googleapis.com/v0/b/test-24a07.appspot.com/o/lookkit"}},setup(a){const s=v(),h=B(),i=$,r=b,e=d(!1),l=a,k=P(()=>{const t=`/codi/0${l.codiId}`,c=`/${l.codiId}_thumbnail.webp`,n=`${encodeURIComponent(t)}${encodeURIComponent(c)}`;return`${l.imageBaseUrl}${n}?alt=media`}),y=()=>{h.push(`/codi/${l.codiId}`)},C=t=>t.toLocaleString("ko-KR"),N=t=>{t.target.src=E},w=async t=>{console.log("코디 좋아요 추가");try{const c=await _.post("http://localhost:8081/api/main/coordi/wish/add",{userId:s.user.userId,codiId:t}).then(n=>{console.log("data",n)}).catch(n=>{console.log(n)});console.log("respnonse",c),e.value=!0}catch{}},x=async()=>{try{const t=await _.get(`http://localhost:8081/api/main/checkBatchCodi/${s.user.userId}/${l.codiId}`);e.value=t.data}catch(t){console.error("위시리스트 체크 중 오류 발생:",t)}};return I(()=>{s.isLoggedIn&&x()}),(t,c)=>(u(),m("div",T,[o("div",{class:"codi-image",onClick:y},[o("img",{src:k.value,alt:a.codiName,onError:N},null,40,D)]),o("div",F,[o("h3",W,g(a.codiName),1),o("p",A,g(C(a.codiPrice))+"원",1)]),o("div",null,[p(s).isLoggedIn?(u(),m("img",{key:0,src:e.value?p(i):p(r),class:"like-btn",onClick:c[0]||(c[0]=n=>w(a.codiId)),width:"20px",height:"20px",alt:""},null,8,K)):S("",!0)])]))}},j=f(M,[["__scopeId","data-v-0e0a5f82"]]),z={class:"page-container"},G={class:"title-section"},H={class:"sort-section"},J={class:"item-count"},O={class:"main-content"},Q={class:"product-list"},X={__name:"CoordiView",setup(a){v();const s=d([]);U(),d("https://firebasestorage.googleapis.com/v0/b/test-24a07.appspot.com/o/lookkit"),d($),d(b),d([]);const h=async()=>{try{const{data:i}=await V.get("/api/main/codis/all");console.log("리스트",i),s.value=i}catch(i){console.error("상품 데이터 조회 오류 발생:",i)}};return I(()=>{h()}),(i,r)=>(u(),m("div",z,[o("div",G,[r[0]||(r[0]=o("h1",{class:"title-text"},"전체 코디",-1)),r[1]||(r[1]=o("div",{class:"filter-section"},null,-1)),o("div",H,[o("div",J,"코디수: "+g(s.value.length)+"개",1)])]),o("div",O,[o("div",Q,[(u(!0),m(q,null,L(s.value,e=>(u(),R(j,{key:e.codiId,"codi-id":e.codiId,"codi-name":e.codiName,"codi-thumbnail":e.codiThumbnail,"codi-price":e.codiPrice},null,8,["codi-id","codi-name","codi-thumbnail","codi-price"]))),128))])])]))}},eo=f(X,[["__scopeId","data-v-413b4817"]]);export{eo as default};
