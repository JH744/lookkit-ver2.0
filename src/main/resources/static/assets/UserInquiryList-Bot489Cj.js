import{_ as q,r as S,j as f,o as w,b as n,d as t,F as c,g as I,a as p,$ as b,i as l,f as v,w as C,l as M,t as i,C as k,B as x,h as $}from"./index-Ph72PXlS.js";const D={class:"inquiries-table"},B={class:"right-padding"},E={class:"answer-text"},N=["onClick"],F={__name:"UserInquiryList",setup(L){const a=S([]),u=f(),y=async()=>{console.log(">>>>>>>>>>>>>>>>",u.user.userId);try{const o=await p.get(`http://localhost:8081/api/mypage/inquiry/user/${u.user.userId}`);a.value=o.data.data,console.log(o.data.data)}catch(o){console.error("Error loading inquiries:",o)}},h=o=>{const e=new Date(o),r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${r}.${s}.${d}`},m=o=>{k().showModal("문의 삭제","정말로 문의를 삭제하시겠습니까?","삭제된 문의는 복구할 수 없습니다.","삭제하기",()=>g(o))},g=async o=>{try{await p.delete(`http://localhost:8081/api/mypage/inquiry/${o}`),a.value=a.value.filter(r=>r.inquiryId!==o),x().showModal("문의 삭제","문의 삭제가 완료되었습니다.")}catch(e){console.error("Error deleting inquiry:",e)}},_=()=>{b.push("/mypage/inquiry/create")};return w(()=>{y()}),(o,e)=>{const r=$("router-link");return l(),n(c,null,[t("section",{class:"section-inquiries"},[e[1]||(e[1]=t("div",null,[t("p",{id:"section-title"},"1:1 문의내역")],-1)),t("div",{class:"space-between"},[e[0]||(e[0]=t("p",{style:{"font-size":"13px"}},"한번 등록한 상담내용은 수정이 불가능합니다.",-1)),t("button",{class:"inquiry-btn",onClick:_},"+ 문의하기")])]),t("table",D,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"문의 제목"),t("th",null,"작성일"),t("th",null,"답변여부"),t("th")])],-1)),t("tbody",null,[(l(!0),n(c,null,I(a.value,s=>(l(),n("tr",{key:s.inquiryId},[t("td",B,[v(r,{to:`/mypage/inquiry/${s.inquiryId}`},{default:C(()=>[M(i(s.inquiryTitle),1)]),_:2},1032,["to"])]),t("td",null,i(h(s.inquiryCreatedAt)),1),t("td",E,i(s.answerState==="Y"?"YES":"NO"),1),t("td",null,[t("button",{onClick:d=>m(s.inquiryId),class:"delete-btn"},"삭제",8,N)])]))),128))])])],64)}}},Y=q(F,[["__scopeId","data-v-91790b0a"]]);export{Y as default};
