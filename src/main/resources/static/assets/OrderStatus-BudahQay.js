import{_ as L,r as b,c as _,o as N,a as d,b as t,e as f,w as p,d as C,k as u,F as c,f as g,z as y,s as S,g as O,h as r,t as o,v as V,H as A,u as $,B}from"./index-BBnxBt67.js";import{a as x}from"./axios-ywBQ3a9P.js";const R={class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},T={id:"layoutSidenav"},U={id:"layoutSidenav_nav"},E={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"},j={class:"sb-sidenav-menu"},z={class:"nav"},F={id:"layoutSidenav_content"},G={id:"layoutSidenav_content"},H={class:"container-fluid px-4"},K={class:"breadcrumb mb-4"},W={class:"breadcrumb-item"},Y={class:"card mb-4"},q={class:"card-body"},J={class:"table table-striped"},Q=["onUpdate:modelValue"],X=["value"],Z=["onClick"],tt={class:"d-flex justify-content-center mt-3"},at={class:"pagination"},et=["onClick"],st="/logout",h=10,lt={__name:"OrderStatus",setup(nt){$();const k=b([]),D=[{value:"pending",label:"대기"},{value:"shipped",label:"배송 중"},{value:"delivered",label:"배송 완료"},{value:"completed",label:"구매 확정"}],l=b(1),w=b(0),v=_(()=>Math.ceil(w.value/h)),M=_(()=>{const e=(l.value-1)*h,a=e+h;return k.value.slice(e,a)}),m=e=>{e>=1&&e<=v.value&&(l.value=e)},P=async()=>{try{const{data:e}=await x.get("/api/admin/orderStatus");k.value=e,w.value=e.length}catch(e){console.error("주문목록 가져오는 중 오류 발생:",e)}},I=async e=>{console.log("orderStatus to be sent:",e.orderStatus);try{const a=await x.put(`/api/admin/orders/${e.orderId}/status`,{orderStatus:e.orderStatus});console.log("res",a.data),a.status===200&&B().showModal("주문현황","주문상태 변경완료했습니다.")}catch(a){console.error("주문상태 업데이트 중 오류 발생:",a)}};return N(()=>{P()}),(e,a)=>{const i=O("RouterLink");return r(),d(c,null,[t("nav",R,[f(i,{class:"navbar-brand ps-3",to:"/admin/dashboard"},{default:p(()=>a[3]||(a[3]=[u("ADMIN PAGE")])),_:1}),t("button",{class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",type:"button",onClick:a[0]||(a[0]=(...s)=>e.toggleSidebar&&e.toggleSidebar(...s))},a[4]||(a[4]=[t("i",{class:"fas fa-bars"},null,-1)])),a[9]||(a[9]=C('<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0" data-v-ccf4ce72><div class="input-group" data-v-ccf4ce72><input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" data-v-ccf4ce72><button class="btn btn-primary" id="btnNavbarSearch" type="button" data-v-ccf4ce72><i class="fas fa-search" data-v-ccf4ce72></i></button></div></form>',1)),t("ul",{class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4"},[t("li",{class:"nav-item dropdown"},[a[8]||(a[8]=t("a",{class:"nav-link dropdown-toggle",id:"navbarDropdown",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fas fa-user fa-fw"})],-1)),t("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},[a[5]||(a[5]=t("li",null,[t("a",{class:"dropdown-item",href:"#!"},"Settings")],-1)),a[6]||(a[6]=t("li",null,[t("a",{class:"dropdown-item",href:"#!"},"Activity Log")],-1)),a[7]||(a[7]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("a",{class:"dropdown-item",href:st},"Logout")])])])])]),t("div",T,[t("div",U,[t("nav",E,[t("div",j,[t("div",z,[a[11]||(a[11]=t("div",{class:"sb-sidenav-menu-heading"},"Menu",-1)),f(i,{class:"nav-link",to:"/admin/dashboard"},{default:p(()=>a[10]||(a[10]=[t("div",{class:"sb-nav-link-icon"},[t("i",{class:"fas fa-tachometer-alt"})],-1),u(" 대쉬보드 ")])),_:1})])])])]),t("div",F,[t("div",G,[t("main",null,[t("div",H,[a[16]||(a[16]=t("h1",{class:"mt-4"},"주문현황",-1)),t("ol",K,[t("li",W,[f(i,{to:"/admin/dashboard"},{default:p(()=>a[12]||(a[12]=[u("Dashboard")])),_:1})]),a[13]||(a[13]=t("li",{class:"breadcrumb-item active"},"Order Status",-1))]),a[17]||(a[17]=t("div",{class:"card mb-4"},null,-1)),t("div",Y,[a[15]||(a[15]=t("div",{class:"card-header"},[t("i",{class:"fas fa-table me-1"}),u(" DataTable Example ")],-1)),t("div",q,[t("table",J,[a[14]||(a[14]=t("thead",null,[t("tr",null,[t("th",null,"주문번호"),t("th",null,"주문자ID"),t("th",null,"주문총액"),t("th",null,"주문상태"),t("th",null,"주문날짜"),t("th",null,"주문요청사항"),t("th",null,"작업")])],-1)),t("tbody",null,[(r(!0),d(c,null,g(M.value,s=>(r(),d("tr",{key:s.orderId},[t("td",null,o(s.orderId),1),t("td",null,o(s.userUuid),1),t("td",null,o(s.totalAmount),1),t("td",null,[V(t("select",{"onUpdate:modelValue":n=>s.orderStatus=n},[(r(),d(c,null,g(D,n=>t("option",{key:n.value,value:n.value},o(n.label),9,X)),64))],8,Q),[[A,s.orderStatus]])]),t("td",null,o(new Date(s.orderDate).toLocaleDateString("ko-KR")),1),t("td",null,o(s.orderComment),1),t("td",null,[t("button",{type:"button",class:"btn btn-primary",onClick:n=>I(s)}," 변경 ",8,Z)])]))),128))])]),t("div",tt,[t("nav",null,[t("ul",at,[t("li",{class:y(["page-item",{disabled:l.value===1}])},[t("a",{class:"page-link",href:"#",onClick:a[1]||(a[1]=S(s=>m(l.value-1),["prevent"]))},"이전")],2),(r(!0),d(c,null,g(v.value,s=>(r(),d("li",{key:s,class:y(["page-item",{active:s===l.value}])},[t("a",{class:"page-link",href:"#",onClick:S(n=>m(s),["prevent"])},o(s),9,et)],2))),128)),t("li",{class:y(["page-item",{disabled:l.value===v.value}])},[t("a",{class:"page-link",href:"#",onClick:a[2]||(a[2]=S(s=>m(l.value+1),["prevent"]))},"다음")],2)])])])])])])]),a[18]||(a[18]=C('<footer class="py-4 bg-light mt-auto" data-v-ccf4ce72><div class="container-fluid px-4" data-v-ccf4ce72><div class="d-flex align-items-center justify-content-between small" data-v-ccf4ce72><div class="text-muted" data-v-ccf4ce72>Copyright © Your Website 2023</div><div data-v-ccf4ce72><a href="#" data-v-ccf4ce72>Privacy Policy</a> · <a href="#" data-v-ccf4ce72>Terms &amp; Conditions</a></div></div></div></footer>',1))])])])],64)}}},rt=L(lt,[["__scopeId","data-v-ccf4ce72"]]);export{rt as default};
