import{_ as L,r as m,c as _,o as N,b as d,d as t,f as p,w as f,e as x,l as u,F as v,g,z as h,s as y,a as C,h as O,i,t as o,v as V,H as A,u as $,B}from"./index-D7EuPnGH.js";const R={class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},T={id:"layoutSidenav"},U={id:"layoutSidenav_nav"},E={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"},j={class:"sb-sidenav-menu"},z={class:"nav"},F={id:"layoutSidenav_content"},G={id:"layoutSidenav_content"},H={class:"container-fluid px-4"},K={class:"breadcrumb mb-4"},W={class:"breadcrumb-item"},Y={class:"card mb-4"},q={class:"card-body"},J={class:"table table-striped"},Q=["onUpdate:modelValue"],X=["value"],Z=["onClick"],tt={class:"d-flex justify-content-center mt-3"},at={class:"pagination"},et=["onClick"],st="/logout",S=10,lt={__name:"OrderStatus",setup(nt){$();const k=m([]),D=[{value:"pending",label:"대기"},{value:"shipped",label:"배송 중"},{value:"delivered",label:"배송 완료"},{value:"completed",label:"구매 확정"}],l=m(1),w=m(0),c=_(()=>Math.ceil(w.value/S)),M=_(()=>{const e=(l.value-1)*S,a=e+S;return k.value.slice(e,a)}),b=e=>{e>=1&&e<=c.value&&(l.value=e)},P=async()=>{try{const{data:e}=await C.get("http://localhost:8081/api/admin/orderStatus");k.value=e,w.value=e.length}catch(e){console.error("주문목록 가져오는 중 오류 발생:",e)}},I=async e=>{console.log("orderStatus to be sent:",e.orderStatus);try{const a=await C.put(`http://localhost:8081/api/admin/orders/${e.orderId}/status`,{orderStatus:e.orderStatus});console.log("res",a.data),a.status===200&&B().showModal("주문현황","주문상태 변경완료했습니다.")}catch(a){console.error("주문상태 업데이트 중 오류 발생:",a)}};return N(()=>{P()}),(e,a)=>{const r=O("RouterLink");return i(),d(v,null,[t("nav",R,[p(r,{class:"navbar-brand ps-3",to:"/admin/dashboard"},{default:f(()=>a[3]||(a[3]=[u("ADMIN PAGE")])),_:1}),t("button",{class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",type:"button",onClick:a[0]||(a[0]=(...s)=>e.toggleSidebar&&e.toggleSidebar(...s))},a[4]||(a[4]=[t("i",{class:"fas fa-bars"},null,-1)])),a[9]||(a[9]=x('<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0" data-v-ac6e54b6><div class="input-group" data-v-ac6e54b6><input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" data-v-ac6e54b6><button class="btn btn-primary" id="btnNavbarSearch" type="button" data-v-ac6e54b6><i class="fas fa-search" data-v-ac6e54b6></i></button></div></form>',1)),t("ul",{class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4"},[t("li",{class:"nav-item dropdown"},[a[8]||(a[8]=t("a",{class:"nav-link dropdown-toggle",id:"navbarDropdown",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fas fa-user fa-fw"})],-1)),t("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},[a[5]||(a[5]=t("li",null,[t("a",{class:"dropdown-item",href:"#!"},"Settings")],-1)),a[6]||(a[6]=t("li",null,[t("a",{class:"dropdown-item",href:"#!"},"Activity Log")],-1)),a[7]||(a[7]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("a",{class:"dropdown-item",href:st},"Logout")])])])])]),t("div",T,[t("div",U,[t("nav",E,[t("div",j,[t("div",z,[a[11]||(a[11]=t("div",{class:"sb-sidenav-menu-heading"},"Menu",-1)),p(r,{class:"nav-link",to:"/admin/dashboard"},{default:f(()=>a[10]||(a[10]=[t("div",{class:"sb-nav-link-icon"},[t("i",{class:"fas fa-tachometer-alt"})],-1),u(" 대쉬보드 ")])),_:1})])])])]),t("div",F,[t("div",G,[t("main",null,[t("div",H,[a[16]||(a[16]=t("h1",{class:"mt-4"},"주문현황",-1)),t("ol",K,[t("li",W,[p(r,{to:"/admin/dashboard"},{default:f(()=>a[12]||(a[12]=[u("Dashboard")])),_:1})]),a[13]||(a[13]=t("li",{class:"breadcrumb-item active"},"Order Status",-1))]),a[17]||(a[17]=t("div",{class:"card mb-4"},null,-1)),t("div",Y,[a[15]||(a[15]=t("div",{class:"card-header"},[t("i",{class:"fas fa-table me-1"}),u(" DataTable Example ")],-1)),t("div",q,[t("table",J,[a[14]||(a[14]=t("thead",null,[t("tr",null,[t("th",null,"주문번호"),t("th",null,"주문자ID"),t("th",null,"주문총액"),t("th",null,"주문상태"),t("th",null,"주문날짜"),t("th",null,"주문요청사항"),t("th",null,"작업")])],-1)),t("tbody",null,[(i(!0),d(v,null,g(M.value,s=>(i(),d("tr",{key:s.orderId},[t("td",null,o(s.orderId),1),t("td",null,o(s.userUuid),1),t("td",null,o(s.totalAmount),1),t("td",null,[V(t("select",{"onUpdate:modelValue":n=>s.orderStatus=n},[(i(),d(v,null,g(D,n=>t("option",{key:n.value,value:n.value},o(n.label),9,X)),64))],8,Q),[[A,s.orderStatus]])]),t("td",null,o(new Date(s.orderDate).toLocaleDateString("ko-KR")),1),t("td",null,o(s.orderComment),1),t("td",null,[t("button",{type:"button",class:"btn btn-primary",onClick:n=>I(s)}," 변경 ",8,Z)])]))),128))])]),t("div",tt,[t("nav",null,[t("ul",at,[t("li",{class:h(["page-item",{disabled:l.value===1}])},[t("a",{class:"page-link",href:"#",onClick:a[1]||(a[1]=y(s=>b(l.value-1),["prevent"]))},"이전")],2),(i(!0),d(v,null,g(c.value,s=>(i(),d("li",{key:s,class:h(["page-item",{active:s===l.value}])},[t("a",{class:"page-link",href:"#",onClick:y(n=>b(s),["prevent"])},o(s),9,et)],2))),128)),t("li",{class:h(["page-item",{disabled:l.value===c.value}])},[t("a",{class:"page-link",href:"#",onClick:a[2]||(a[2]=y(s=>b(l.value+1),["prevent"]))},"다음")],2)])])])])])])]),a[18]||(a[18]=x('<footer class="py-4 bg-light mt-auto" data-v-ac6e54b6><div class="container-fluid px-4" data-v-ac6e54b6><div class="d-flex align-items-center justify-content-between small" data-v-ac6e54b6><div class="text-muted" data-v-ac6e54b6>Copyright © Your Website 2023</div><div data-v-ac6e54b6><a href="#" data-v-ac6e54b6>Privacy Policy</a> · <a href="#" data-v-ac6e54b6>Terms &amp; Conditions</a></div></div></div></footer>',1))])])])],64)}}},dt=L(lt,[["__scopeId","data-v-ac6e54b6"]]);export{dt as default};
