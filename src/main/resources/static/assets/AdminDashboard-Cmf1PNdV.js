import{_ as T,r as l,c as $,H as J,j as R,o as q,a as _,b as i,d as a,f,w as g,e as w,l as u,F as y,g as S,A as C,v as k,h as x,i as r,t as d,u as F}from"./index-Cm_Q1rqZ.js";const V={id:"layoutSidenav"},z={id:"layoutSidenav_nav"},Z={class:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"},G={class:"sb-sidenav-menu"},H={class:"nav"},K={id:"layoutSidenav_content"},O={class:"container-fluid px-4"},U={class:"card mb-4"},Q={class:"card-body"},W={class:"table table-striped"},X={"aria-label":"Page navigation",class:"mt-4"},Y={class:"pagination justify-content-center"},aa=["onClick"],ta={__name:"AdminDashboard",setup(ea){const A=l(!1),D=l(null),j=l(null),I=l(null),c=l([]),o=l(1),v=l(10),b=l(0),P=$(()=>{const e=(o.value-1)*v.value,t=e+v.value;return c.value.slice(e,t)});J(()=>{b.value=Math.ceil(c.value.length/v.value)});const m=e=>{o.value=e},M=F(),B=R(),E=async()=>{try{await _.post("/api/auth/logout"),B.clearAuthData(),M.push("/auth/login")}catch(e){console.error("로그아웃 처리 중 오류 발생:",e)}};q(async()=>{try{await h("https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"),await h("https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"),L(),await h("https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"),N(),A.value=!0}catch(e){console.error("스크립트 로드 중 에러 발생:",e)}try{const e=await _.get("/api/admin/dashboard").then(t=>{console.log(t.data),c.value=t.data,console.log("리스트",c.value[0])})}catch(e){console.log(e)}});const h=e=>new Promise((t,p)=>{if(document.querySelector(`script[src="${e}"]`)){t();return}const n=document.createElement("script");n.src=e,n.crossOrigin="anonymous",n.onload=t,n.onerror=p,document.head.appendChild(n)}),L=()=>{const e=document.getElementById("myAreaChart");e&&(D.value=new Chart(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"Sessions",data:[1e4,30162,26263,18394,18287,28682,31274],fill:!0,borderColor:"rgba(2,117,216,1)",backgroundColor:"rgba(2,117,216,0.2)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}));const t=document.getElementById("myBarChart");t&&(j.value=new Chart(t,{type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Revenue",data:[4215,5312,6251,7841,9821,14984],backgroundColor:"rgba(2,117,216,1)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}))},N=()=>{const e=document.getElementById("datatablesSimple");e&&(I.value=new simpleDatatables.DataTable(e))};return(e,t)=>{const p=x("router-link"),n=x("RouterLink");return r(),i(y,null,[t[10]||(t[10]=a("nav",{class:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},[a("a",{class:"navbar-brand ps-3","th:href":"@{/admin/dashboard}"},"ADMIN PAGE"),a("button",{class:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",href:"#!"},[a("i",{class:"fas fa-bars"})]),a("form",{class:"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"},[a("div",{class:"input-group"},[a("input",{class:"form-control",type:"text",placeholder:"Search for...","aria-label":"Search for...","aria-describedby":"btnNavbarSearch"}),a("button",{class:"btn btn-primary",id:"btnNavbarSearch",type:"button"},[a("i",{class:"fas fa-search"})])])]),a("ul",{class:"navbar-nav ms-auto ms-md-0 me-3 me-lg-4"},[a("li",{class:"nav-item dropdown"},[a("a",{class:"nav-link dropdown-toggle",id:"navbarDropdown",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[a("i",{class:"fas fa-user fa-fw"})])])])],-1)),a("div",V,[a("div",z,[a("nav",Z,[a("div",G,[a("div",H,[t[3]||(t[3]=a("div",{class:"sb-sidenav-menu-heading"},"Menu",-1)),f(p,{class:"nav-link",to:"/admin/order/status"},{default:g(()=>t[2]||(t[2]=[a("div",{class:"sb-nav-link-icon"},[a("i",{class:"fas fa-table"})],-1),u(" 주문현황 ")])),_:1})])]),a("div",{class:"sb-sidenav-footer"},[t[4]||(t[4]=a("div",{class:"small"},"관리자로 로그인됨",-1)),a("button",{class:"btn btn-outline-light btn-sm mt-2 w-100",onClick:E}," 로그아웃 ")])])]),a("div",K,[a("main",null,[a("div",O,[t[8]||(t[8]=w('<h1 class="mt-4" data-v-15411433>Dashboard</h1><ol class="breadcrumb mb-4" data-v-15411433><li class="breadcrumb-item active" data-v-15411433>Dashboard</li></ol><div class="row" data-v-15411433><div class="col-xl-6" data-v-15411433><div class="card mb-4" data-v-15411433><div class="card-header" data-v-15411433><i class="fas fa-chart-area me-1" data-v-15411433></i> 월 매출액 </div><div class="card-body" data-v-15411433><canvas id="myAreaChart" width="100%" height="40" data-v-15411433></canvas></div></div></div><div class="col-xl-6" data-v-15411433><div class="card mb-4" data-v-15411433><div class="card-header" data-v-15411433><i class="fas fa-chart-bar me-1" data-v-15411433></i> 월 누적이익 </div><div class="card-body" data-v-15411433><canvas id="myBarChart" width="100%" height="40" data-v-15411433></canvas></div></div></div></div>',3)),a("div",U,[t[7]||(t[7]=a("div",{class:"card-header"},[a("i",{class:"fas fa-table me-1"}),u(" 1:1 문의현황 ")],-1)),a("div",Q,[a("table",W,[t[6]||(t[6]=a("thead",null,[a("tr",null,[a("th",null,"문의번호"),a("th",null,"작성자ID"),a("th",null,"문의제목"),a("th",null,"문의내용"),a("th",null,"문의날짜"),a("th",null,"답변여부"),a("th",null,"삭제")])],-1)),a("tbody",null,[(r(!0),i(y,null,S(P.value,s=>(r(),i("tr",{key:s.inquiryId},[a("td",null,d(s.inquiryId),1),a("td",null,d(s.userUuid),1),a("td",null,[f(n,{to:`/admin/inquiry/${s.inquiryId}`},{default:g(()=>[u(d(s.inquiryTitle),1)]),_:2},1032,["to"])]),a("td",null,[f(n,{to:`/admin/inquiry/${s.inquiryId}`},{default:g(()=>[u(d(s.inquiryContents),1)]),_:2},1032,["to"])]),a("td",null,d(new Date(s.inquiryCreatedAt).toLocaleDateString("ko-KR")),1),a("td",null,d(s.answerState),1),t[5]||(t[5]=a("td",null,"삭제",-1))]))),128))])]),a("nav",X,[a("ul",Y,[a("li",{class:C(["page-item",{disabled:o.value===1}])},[a("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=k(s=>m(o.value-1),["prevent"]))}," 이전 ")],2),(r(!0),i(y,null,S(b.value,s=>(r(),i("li",{key:s,class:C(["page-item",{active:o.value===s}])},[a("a",{class:"page-link",href:"#",onClick:k(sa=>m(s),["prevent"])},d(s),9,aa)],2))),128)),a("li",{class:C(["page-item",{disabled:o.value===b.value}])},[a("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=k(s=>m(o.value+1),["prevent"]))}," 다음 ")],2)])])])])])]),t[9]||(t[9]=w('<footer class="py-4 bg-light mt-auto" data-v-15411433><div class="container-fluid px-4" data-v-15411433><div class="d-flex align-items-center justify-content-between small" data-v-15411433><div class="text-muted" data-v-15411433>Copyright © lookkit</div><div data-v-15411433><a href="#" data-v-15411433>Privacy Policy</a> · <a href="#" data-v-15411433>Terms &amp; Conditions</a></div></div></div></footer>',1))])])],64)}}},la=T(ta,[["__scopeId","data-v-15411433"]]);export{la as default};
