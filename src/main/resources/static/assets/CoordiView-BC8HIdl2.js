import{_ as v,j as f,u as B,r as d,c as P,o as I,i as u,b as m,d as o,t as g,p,m as S,a as _,F as q,g as L,q as R,n as U}from"./index-D7EuPnGH.js";import{h as $,a as k}from"./heart2-Da8ksjVI.js";import{d as V}from"./img_none-DejiioVZ.js";const E={class:"codi-item"},T=["src","alt"],D={class:"codi-info"},F={class:"codi-name"},W={class:"codi-price"},j=["src"],A={__name:"Coordi",props:{codiId:{type:Number,required:!0},codiName:{type:String,required:!0},codiPrice:{type:Number,required:!0},codiThumbnail:{type:String,required:!0},imageBaseUrl:{type:String,default:"https://firebasestorage.googleapis.com/v0/b/test-24a07.appspot.com/o/lookkit"}},setup(a){const s=f(),h=B(),c=$,n=k,e=d(!1),l=a,b=P(()=>{const t=`/codi/0${l.codiId}`,i=`/${l.codiId}_thumbnail.webp`,r=`${encodeURIComponent(t)}${encodeURIComponent(i)}`;return`${l.imageBaseUrl}${r}?alt=media`}),y=()=>{h.push(`/codi/${l.codiId}`)},C=t=>t.toLocaleString("ko-KR"),N=t=>{t.target.src=V},w=async t=>{console.log("코디 좋아요 추가");try{const i=await _.post("http://localhost:8081/api/main/coordi/wish/add",{userId:s.user.userId,codiId:t}).then(r=>{console.log("data",r)}).catch(r=>{console.log(r)});console.log("respnonse",i),e.value=!0}catch{}},x=async()=>{try{const t=await _.get(`http://localhost:8081/api/main/checkBatchCodi/${s.user.userId}/${l.codiId}`);e.value=t.data}catch(t){console.error("위시리스트 체크 중 오류 발생:",t)}};return I(()=>{s.isLoggedIn&&x()}),(t,i)=>(u(),m("div",E,[o("div",{class:"codi-image",onClick:y},[o("img",{src:b.value,alt:a.codiName,onError:N},null,40,T)]),o("div",D,[o("h3",F,g(a.codiName),1),o("p",W,g(C(a.codiPrice))+"원",1)]),o("div",null,[p(s).isLoggedIn?(u(),m("img",{key:0,src:e.value?p(c):p(n),class:"like-btn",onClick:i[0]||(i[0]=r=>w(a.codiId)),width:"20px",height:"20px",alt:""},null,8,j)):S("",!0)])]))}},K=v(A,[["__scopeId","data-v-0e0a5f82"]]),M={class:"page-container"},z={class:"title-section"},G={class:"sort-section"},H={class:"item-count"},J={class:"main-content"},O={class:"product-list"},Q={__name:"CoordiView",setup(a){f();const s=d([]);U(),d("https://firebasestorage.googleapis.com/v0/b/test-24a07.appspot.com/o/lookkit"),d($),d(k),d([]);const h=async()=>{try{const{data:c}=await _.get("http://localhost:8081/api/main/codis/all");console.log("리스트",c),s.value=c}catch(c){console.error("상품 데이터 조회 오류 발생:",c)}};return I(()=>{h()}),(c,n)=>(u(),m("div",M,[o("div",z,[n[0]||(n[0]=o("h1",{class:"title-text"},"전체 코디",-1)),n[1]||(n[1]=o("div",{class:"filter-section"},null,-1)),o("div",G,[o("div",H,"코디수: "+g(s.value.length)+"개",1)])]),o("div",J,[o("div",O,[(u(!0),m(q,null,L(s.value,e=>(u(),R(K,{key:e.codiId,"codi-id":e.codiId,"codi-name":e.codiName,"codi-thumbnail":e.codiThumbnail,"codi-price":e.codiPrice},null,8,["codi-id","codi-name","codi-thumbnail","codi-price"]))),128))])])]))}},oo=v(Q,[["__scopeId","data-v-8582d41d"]]);export{oo as default};
